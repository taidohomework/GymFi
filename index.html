<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trang Chủ</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <h1>Chào mừng đến với Website của chúng tôi</h1>
        <nav>
            <a href="index.html">Trang Chủ</a>
            <a id="login-link" href="login.html">Đăng Nhập</a>
            <a id="account-link" href="account.html" style="display: none;">Account Details</a>
        </nav>
    </header>
    <main>
        <section class="centered-form">
            <h2>Nhận Coin Miễn Phí</h2>
            <form onsubmit="handleConversion(event)">
                <div class="form-group">
                    <label for="calories">Nhập số calories đã đốt:</label>
                    <input type="number" id="calories" name="calories" required>
                </div>
                <button type="submit">Quy Đổi</button>
            </form>
        </section>
    </main>
    <script>
        function handleConversion(event) {
            event.preventDefault();
            const calories = document.getElementById('calories').value;
            const gymCoin = calories * 0.1; // Giả sử 1 calorie = 0.1 GYM Coin

            const user = JSON.parse(localStorage.getItem('user'));
            if (user) {
                user.gymCoin += gymCoin;
                user.conversionHistory.push({
                    date: new Date().toLocaleDateString(),
                    calories,
                    gymCoin
                });
                localStorage.setItem('user', JSON.stringify(user));
                alert('Quy đổi thành công!');
            } else {
                alert('Bạn cần đăng nhập để quy đổi.');
            }
        }

        function checkLoginStatus() {
            const loggedIn = localStorage.getItem('loggedIn');
            if (loggedIn === 'true') {
                document.getElementById('login-link').style.display = 'none';
                document.getElementById('account-link').style.display = 'inline';
            }
        }

        document.addEventListener('DOMContentLoaded', checkLoginStatus);
    </script>
</body>
</html>